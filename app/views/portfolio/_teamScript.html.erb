<script type="text/javascript">
	$(function () {
		var gameTeam = <%= raw @team1tmAll.to_json %>
		var gameOFF = <%= raw @team1offAll.to_json %>
		var gameDEF = <%= raw @team1defAll.to_json %>
		var games2dm = <%= raw @team1s2dmAll.to_json %>

		var gameTeam16 = <%= raw @team1tm16.to_json %>
		var gameOFF16 = <%= raw @team1off16.to_json %>
		var gameDEF16 = <%= raw @team1def16.to_json %>
		var games2dm16 = <%= raw @team1s2dm16.to_json %>
		
		var gameTeam15 = <%= raw @team1tm15.to_json %>
		var gameOFF15 = <%= raw @team1off15.to_json %>
		var gameDEF15 = <%= raw @team1def15.to_json %>
		var games2dm15 = <%= raw @team1s2dm15.to_json %>

		var gameTeam14 = <%= raw @team1tm14.to_json %>
		var gameOFF14 = <%= raw @team1off14.to_json %>
		var gameDEF14 = <%= raw @team1def14.to_json %>
		var games2dm14 = <%= raw @team1s2dm14.to_json %>
		
		var gameTeam13 = <%= raw @team1tm13.to_json %>
		var gameOFF13 = <%= raw @team1off13.to_json %>
		var gameDEF13 = <%= raw @team1def13.to_json %>
		var games2dm13 = <%= raw @team1s2dm13.to_json %>
		
		var gameTeam12 = <%= raw @team1tm12.to_json %>
		var gameOFF12 = <%= raw @team1off12.to_json %>
		var gameDEF12 = <%= raw @team1def12.to_json %>
		var games2dm12 = <%= raw @team1s2dm12.to_json %>
		
		var gameTeam11 = <%= raw @team1tm11.to_json %>
		var gameOFF11 = <%= raw @team1off11.to_json %>
		var gameDEF11 = <%= raw @team1def11.to_json %>
		var games2dm11 = <%= raw @team1s2dm11.to_json %>
		var chart = new Highcharts.Chart({
		chart: {
			renderTo: 'teamChart',
			fontSize:'100%',
			backgroundColor:'rgba(255, 255, 255, 0.1)',
			type: 'scatter',
            zoomType: 'x'
		},
		title: {
			text: '',
			style: {
				fontSize:'2vmax'
			}
		},
		subtitle: {
			text: 'Game-Q By Week (2016)',
			style: {
				fontSize:'1.7vmax'
			}
		},
		xAxis: {
			categories: [''],
			labels: {
				enabled: false
			},
			title: {
				style: {
                    fontSize:'1.7vmax',
                }
			}
		},
		yAxis: {
			title: {
				text: '',
				style: {
                    fontSize:'1.7vmax',
                }
			}
		},
		plotOptions: {
			series: {
                marker: {
                    radius: 5
                }
            },
			scatter: {
				dataLabels: {
					enabled: false,
				},
				enableMouseTracking: true
			}
		},
        tooltip: {
            formatter: function() {return ' ' +
                this.series.name + '<br />' +
                'Result: ' + '<b>' + this.point.name + '</b>';
            }
        },
		series: [{
			name: 'Team',
			color: '#333333',
			data: gameTeam16,
			marker: {
                symbol: 'circle'
            },
		}, {
			name: 'Offense',
			color: '#006E29',
			data: gameOFF16,
			marker: {
                symbol: 'triangle'
            },
		}, {
			name: 'Defense',
			color: 'orange',
			data: gameDEF16,
			marker: {
                symbol: 'triangle-down'
            },
        }, {
			type: 'spline',
			name: 'Team Season-Q',
			color: '#006E29',
			data: games2dm16,
			marker: {
				enabled: false
            },
		}]
	});
		$(".rollup").change(function() {
			var value = this.getAttribute("value");

			if (value == 'a') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2015)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam15,
					marker: {
						symbol: 'circle'
					},             
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF15,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF15,
					marker: {
						symbol: 'triangle-down'
					},                  
				});   
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm15,
					marker: {
						enabled: false
					},                  
				}); 
			}
			
			else if (value == 'b') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2014)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam14,
					marker: {
						symbol: 'circle'
					},                  
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF14,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF14,
					marker: {
						symbol: 'triangle-down'
					},                  
				});   
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm14,
					marker: {
						enabled: false
					},                  
				}); 
			}
			
			else if (value == 'c') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2013)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam13,
					marker: {
						symbol: 'circle'
					},                  
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF13,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF13,
					marker: {
						symbol: 'triangle-down'
					},                  
				});  
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm13,
					marker: {
						enabled: false
					},                  
				});  
			}

			else if (value == 'd') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2012)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam12,
					marker: {
						symbol: 'circle'
					},                 
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF12,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF12,
					marker: {
						symbol: 'triangle-down'
					},                  
				});
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm12,
					marker: {
						enabled: false
					},                  
				}); 
			}

			else if (value == 'e') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2011)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam11,
					marker: {
						symbol: 'circle'
					},                  
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF11,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF11,
					marker: {
						symbol: 'triangle-down'
					},                  
				}); 
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm11,
					marker: {
						enabled: false
					},                  
				}); 
			}
			
			else if (value == 'f') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2011-2016)'
				});
				chart.xAxis[0].update({
					categories: ['']
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam,
					marker: {
						symbol: 'circle'
					},                  
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF,
					marker: {
						symbol: 'triangle-down'
					},                  
				});   
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm,
					marker: {
						enabled: false
					},                  
				}); 
			}

			else if (value == 'g') 
			{
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.series[0].remove();
				chart.setTitle({ 
					text: '' 
					}, 
					{ 
					text: 'Game-Q By Week (2016)'
				});
				chart.xAxis[0].update({
					categories: <%= @team1wk  %>
				});
				chart.addSeries({
					name: 'Team',
					color: '#333333',  
				    data: gameTeam16,
					marker: {
						symbol: 'circle'
					},                  
				});   
				chart.addSeries({
					name: 'Offense',
					color: '#006E29',  
				    data: gameOFF16,
					marker: {
						symbol: 'triangle'
					},                  
				});
				chart.addSeries({
					name: 'Defense',
					color: 'orange',  
				    data: gameDEF16,
					marker: {
						symbol: 'triangle-down'
					},                  
				}); 
				chart.addSeries({
					name: 'Team Season-Q',
					type: 'spline',
					color: '#006E29',  
				    data: games2dm16,
					marker: {
						enabled: false
					},                  
				}); 
			}
			
			else {
			   alert("Error!");   
			}
		});
	});
</script>
